<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">Tidbyt Status Monitor | Baked Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wearebaked.com/baked-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wearebaked.com/baked-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Tidbyt Status Monitor | Baked Docs"><meta data-rh="true" name="description" content="Git repo//github.com/BakedStudios/baked-tools/tree/main/tidbyt-sg-monitor"><meta data-rh="true" property="og:description" content="Git repo//github.com/BakedStudios/baked-tools/tree/main/tidbyt-sg-monitor"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-01-25T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.wearebaked.com/about"><meta data-rh="true" property="article:tag" content="tidbyt,python"><link data-rh="true" rel="icon" href="/baked-docs/img/baked-logo-sprite.ico"><link data-rh="true" rel="canonical" href="https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt"><link data-rh="true" rel="alternate" href="https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt" hreflang="en"><link data-rh="true" rel="alternate" href="https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt","mainEntityOfPage":"https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt","url":"https://wearebaked.com/baked-docs/blog/2024/01/25/2024-01-25-tidbyt/tidbyt","headline":"Tidbyt Status Monitor","name":"Tidbyt Status Monitor","description":"Git repo//github.com/BakedStudios/baked-tools/tree/main/tidbyt-sg-monitor","datePublished":"2024-01-25T00:00:00.000Z","author":{"@type":"Person","name":"Cameron Target","description":"Pipeline Manager","url":"https://www.wearebaked.com/about","image":"https://avatars.githubusercontent.com/u/127965975?s=400&u=9799eb0c2c2b7bcf45f47bb170c8a154fd4e7eb4&v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://wearebaked.com/baked-docs/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/baked-docs/blog/rss.xml" title="Baked Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/baked-docs/blog/atom.xml" title="Baked Docs Atom Feed"><link rel="stylesheet" href="/baked-docs/assets/css/styles.e3ad5d68.css">
<script src="/baked-docs/assets/js/runtime~main.7a41c023.js" defer="defer"></script>
<script src="/baked-docs/assets/js/main.f2c3ebe1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/baked-docs/"><div class="navbar__logo"><img src="/baked-docs/img/baked-logo-sprite.png" alt="baked-logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/baked-docs/img/baked-logo-sprite.png" alt="baked-logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Baked Studios Pipeline</b></a><a class="navbar__item navbar__link" href="/baked-docs/docs/overview/">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/baked-docs/blog">Posts</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/BakedStudios" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/baked-docs/blog/2024/05/31/2024-05-31-pipeline-test/pipeline-test">Testing v0.7.0-bakedstudios.0.6.0b5</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/baked-docs/blog/2024/04/08/2024-04-08-new-render-template/new-render-template">Update to render_template.nk</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/baked-docs/blog/2024/03/15/2024-03-15-suite-saas-future/suite-saas-future">Suite Studios — A SaaS Future for Baked Studios</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/baked-docs/blog/2024/02/25/2024-02-25-usdz/usdz">USDZ Cookie!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/baked-docs/blog/2024/02/15/2024-02-15-suite/suite">Deep Dive | Suite Studios</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">Tidbyt Status Monitor</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-01-25T00:00:00.000Z">January 25, 2024</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://www.wearebaked.com/about" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/127965975?s=400&amp;u=9799eb0c2c2b7bcf45f47bb170c8a154fd4e7eb4&amp;v=4" alt="Cameron Target"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://www.wearebaked.com/about" target="_blank" rel="noopener noreferrer"><span>Cameron Target</span></a></div><small class="avatar__subtitle">Pipeline Manager</small></div></div></div></div></header><div id="__blog-post-container" class="markdown"><blockquote>
<p>Git repo: <a href="https://github.com/BakedStudios/baked-tools/tree/main/tidbyt-sg-monitor" target="_blank" rel="noopener noreferrer">https://github.com/BakedStudios/baked-tools/tree/main/tidbyt-sg-monitor</a></p>
</blockquote>
<blockquote>
<p>You need a Tidbyt for this to work! <!-- -->🤖</p>
</blockquote>
<p>The Tidbyt SG Monitor is a custom application designed to display data from ShotGrid (SG), specifically focusing on the count of Versions with a status of &quot;cnv&quot; within active projects. This documentation outlines how to set up and run the Tidbyt SG Monitor, including the necessary scripts and LaunchAgent configuration.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>This solution involves three main components:</p>
<ol>
<li><strong>LaunchAgent Configuration</strong>: A plist file to schedule and manage the execution of the SG_Data script.</li>
<li><strong>SG_Data Script</strong>: A Python script that connects to ShotGrid, retrieves data, generates Starlark code for Tidbyt display, and commands to render and push the display content.</li>
<li><strong>Starlark Template</strong>: A template used to dynamically generate Starlark code that defines what is displayed on the Tidbyt device, including fetching an SG icon and displaying the count of &quot;cnv&quot; statuses.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-instructions">Setup Instructions<a href="#setup-instructions" class="hash-link" aria-label="Direct link to Setup Instructions" title="Direct link to Setup Instructions">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-launchagent-configuration">1. LaunchAgent Configuration<a href="#1-launchagent-configuration" class="hash-link" aria-label="Direct link to 1. LaunchAgent Configuration" title="Direct link to 1. LaunchAgent Configuration">​</a></h3>
<ul>
<li><strong>File Location</strong>: <code>/Applications/tidbyt-sg-monitor/com.Tidbyt.SG_Data.plist</code></li>
<li><strong>Purpose</strong>: Schedules the SG_Data script to run at a specified interval (every 30 seconds) and specifies output paths for standard output and errors.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="to-start-the-agent">To Start the Agent:<a href="#to-start-the-agent" class="hash-link" aria-label="Direct link to To Start the Agent:" title="Direct link to To Start the Agent:">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo launchctl bootstrap gui/$(id -u) /Applications/tidbyt-sg-monitor/com.Tidbyt.SG_Data.plist</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="to-stop-the-agent">To Stop the Agent:<a href="#to-stop-the-agent" class="hash-link" aria-label="Direct link to To Stop the Agent:" title="Direct link to To Stop the Agent:">​</a></h4>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">launchctl bootout gui/$(id -u) /Applications/tidbyt-sg-monitor/com.Tidbyt.SG_Data.plist</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-sg_data-script">2. SG_Data Script<a href="#2-sg_data-script" class="hash-link" aria-label="Direct link to 2. SG_Data Script" title="Direct link to 2. SG_Data Script">​</a></h3>
<ul>
<li><strong>Location</strong>: <code>/Applications/tidbyt-sg-monitor/SG_Data.py</code></li>
<li><strong>Dependencies</strong>: Requires <code>shotgun_api3</code> Python package.</li>
<li><strong>Functionality</strong>:<!-- -->
<ul>
<li>Connects to ShotGrid using provided credentials.</li>
<li>Queries for Versions with &quot;cnv&quot; status in active projects.</li>
<li>Generates a Starlark script for the Tidbyt display, embedding the count of found records.</li>
<li>Executes commands to render and push the content to a Tidbyt device.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-starlark-template">3. Starlark Template<a href="#3-starlark-template" class="hash-link" aria-label="Direct link to 3. Starlark Template" title="Direct link to 3. Starlark Template">​</a></h3>
<p>The template dynamically generates a Starlark script, embedding the count of &quot;cnv&quot; statuses into a visual format suitable for Tidbyt devices. It fetches an SG icon and formats the display to show the data alongside the icon.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="execution-flow">Execution Flow<a href="#execution-flow" class="hash-link" aria-label="Direct link to Execution Flow" title="Direct link to Execution Flow">​</a></h2>
<ol>
<li><strong>Data Retrieval</strong>: The SG_Data script connects to ShotGrid, retrieves the relevant data, and calculates the count of Versions with &quot;cnv&quot; status.</li>
<li><strong>Starlark Code Generation</strong>: It then fills the Starlark template with this data, creating a script that defines the visual representation of the data on the Tidbyt device.</li>
<li><strong>Rendering and Display</strong>: Lastly, the script uses <code>pixlet</code> commands to render the Starlark script into a format compatible with Tidbyt devices and pushes the rendered content to the device.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-notes">Additional Notes<a href="#additional-notes" class="hash-link" aria-label="Direct link to Additional Notes" title="Direct link to Additional Notes">​</a></h2>
<ul>
<li>Ensure that <code>pixlet</code> is installed and accessible from the command line.</li>
<li>Replace <code>&lt;YOUR TIDBYT TOKEN HERE&gt;</code> with your actual Tidbyt API token in the final command within the SG_Data script.</li>
<li>The paths and credentials used in the scripts should be adjusted according to your setup and security practices.</li>
<li>The provided SG icon URL and other hardcoded values can be customized as needed.</li>
</ul>
<p>This documentation aims to provide a clear understanding of how to configure and use the Tidbyt SG Monitor. For further customization or troubleshooting, refer to the documentation of the individual technologies involved (ShotGrid API, Tidbyt API, and LaunchAgents).</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/baked-docs/blog/tags/tidbyt">tidbyt</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/baked-docs/blog/tags/python">python</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/baked-docs/blog/2024/01/30/2024-01-30-syncthing/syncthing"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Deep Dive | Syncthing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/baked-docs/blog/2024/01/15/2024-01-15-knob-changed/knob-changed"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Exploring &#x27;knobChanged&#x27;</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#setup-instructions" class="table-of-contents__link toc-highlight">Setup Instructions</a><ul><li><a href="#1-launchagent-configuration" class="table-of-contents__link toc-highlight">1. LaunchAgent Configuration</a></li><li><a href="#2-sg_data-script" class="table-of-contents__link toc-highlight">2. SG_Data Script</a></li><li><a href="#3-starlark-template" class="table-of-contents__link toc-highlight">3. Starlark Template</a></li></ul></li><li><a href="#execution-flow" class="table-of-contents__link toc-highlight">Execution Flow</a></li><li><a href="#additional-notes" class="table-of-contents__link toc-highlight">Additional Notes</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Baked Studios</div></div></div></footer></div>
</body>
</html>